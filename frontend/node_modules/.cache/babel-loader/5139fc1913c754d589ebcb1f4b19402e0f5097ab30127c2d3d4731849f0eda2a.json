{"ast":null,"code":"var _jsxFileName = \"/Users/ashwin.r1/Downloads/live-cricket-scores-main/frontend/src/components/home/Rankings.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useMemo } from 'react';\nimport './css/Rankings.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FORMATS = ['TEST', 'ODI', 'T20I'];\nfunction pickEntry(data, gender, type) {\n  return (data || []).find(x => {\n    var _x$gender, _x$type;\n    return x.resource === 'rankings' && ((_x$gender = x.gender) === null || _x$gender === void 0 ? void 0 : _x$gender.toLowerCase()) === gender.toLowerCase() && ((_x$type = x.type) === null || _x$type === void 0 ? void 0 : _x$type.toUpperCase()) === type.toUpperCase();\n  });\n}\nfunction extractTop5(entry) {\n  return ((entry === null || entry === void 0 ? void 0 : entry.team) || []).map(t => {\n    var _t$ranking, _t$ranking2;\n    return {\n      id: t.id,\n      name: t.name,\n      code: t.code,\n      img: t.image_path,\n      position: (_t$ranking = t.ranking) === null || _t$ranking === void 0 ? void 0 : _t$ranking.position,\n      rating: (_t$ranking2 = t.ranking) === null || _t$ranking2 === void 0 ? void 0 : _t$ranking2.rating\n    };\n  }).sort((a, b) => a.position - b.position).slice(0, 5);\n}\nexport default function Rankings() {\n  _s();\n  const [data, setData] = useState([]);\n  const [gender, setGender] = useState('men');\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    (async () => {\n      try {\n        const res = await fetch('/api/team-rankings');\n        const json = await res.json();\n        setData(Array.isArray(json === null || json === void 0 ? void 0 : json.data) ? json.data : json);\n      } catch (err) {\n        console.error('Failed to fetch team rankings', err);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, []);\n  const top5Blocks = useMemo(() => {\n    return FORMATS.map(format => {\n      const entry = pickEntry(data, gender, format);\n      const teams = extractTop5(entry);\n      const updatedAt = entry !== null && entry !== void 0 && entry.updated_at ? new Date(entry.updated_at).toLocaleDateString('en-GB') : null;\n      return {\n        format,\n        teams,\n        updatedAt\n      };\n    });\n  }, [data, gender]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"top5-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/rankings\",\n      className: \"see-all-btn-floating\",\n      children: \"All\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"rankings-title\",\n      children: \"ICC Team Rankings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top5-tabs\",\n      children: ['men', 'women'].map(g => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `top5-tab ${gender === g ? 'active' : ''}`,\n        onClick: () => setGender(g),\n        children: g === 'men' ? 'Men' : 'Women'\n      }, g, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top5-grid\",\n      children: top5Blocks.map(({\n        format,\n        teams,\n        updatedAt\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"top5-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top5-card-header\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"top5-format\",\n            children: format\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), teams.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top5-list\",\n          children: teams.map(team => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"top5-team-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"top5-rank\",\n              children: team.position\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"top5-team-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: team.img,\n                alt: team.name,\n                className: \"top5-flag\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"top5-team-name\",\n                children: team.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"top5-team-code\",\n                children: [\"(\", team.code, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"top5-rating\",\n              children: team.rating\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 21\n            }, this)]\n          }, team.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top5-no-data\",\n          children: \"No ranking data available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this)]\n      }, format, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(Rankings, \"aAt2tln18LRX85rjqJE38MdTcCc=\");\n_c = Rankings;\nvar _c;\n$RefreshReg$(_c, \"Rankings\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","jsxDEV","_jsxDEV","FORMATS","pickEntry","data","gender","type","find","x","_x$gender","_x$type","resource","toLowerCase","toUpperCase","extractTop5","entry","team","map","t","_t$ranking","_t$ranking2","id","name","code","img","image_path","position","ranking","rating","sort","a","b","slice","Rankings","_s","setData","setGender","loading","setLoading","res","fetch","json","Array","isArray","err","console","error","top5Blocks","format","teams","updatedAt","updated_at","Date","toLocaleDateString","className","children","href","fileName","_jsxFileName","lineNumber","columnNumber","g","onClick","length","src","alt","_c","$RefreshReg$"],"sources":["/Users/ashwin.r1/Downloads/live-cricket-scores-main/frontend/src/components/home/Rankings.js"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport './css/Rankings.css';\n\nconst FORMATS = ['TEST', 'ODI', 'T20I'];\n\nfunction pickEntry(data, gender, type) {\n  return (data || []).find(\n    (x) =>\n      x.resource === 'rankings' &&\n      x.gender?.toLowerCase() === gender.toLowerCase() &&\n      x.type?.toUpperCase() === type.toUpperCase()\n  );\n}\n\nfunction extractTop5(entry) {\n  return (entry?.team || [])\n    .map((t) => ({\n      id: t.id,\n      name: t.name,\n      code: t.code,\n      img: t.image_path,\n      position: t.ranking?.position,\n      rating: t.ranking?.rating,\n    }))\n    .sort((a, b) => a.position - b.position)\n    .slice(0, 5);\n}\n\nexport default function Rankings() {\n  const [data, setData] = useState([]);\n  const [gender, setGender] = useState('men');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const res = await fetch('/api/team-rankings');\n        const json = await res.json();\n        setData(Array.isArray(json?.data) ? json.data : json);\n      } catch (err) {\n        console.error('Failed to fetch team rankings', err);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  const top5Blocks = useMemo(() => {\n    return FORMATS.map((format) => {\n      const entry = pickEntry(data, gender, format);\n      const teams = extractTop5(entry);\n      const updatedAt = entry?.updated_at ? new Date(entry.updated_at).toLocaleDateString('en-GB') : null;\n      return { format, teams, updatedAt };\n    });\n  }, [data, gender]);\n\n  return (\n    <div className=\"top5-container\">\n      <a href=\"/rankings\" className=\"see-all-btn-floating\">All</a>\n      <h2 className=\"rankings-title\">ICC Team Rankings</h2>\n\n      <div className=\"top5-tabs\">\n        {['men', 'women'].map((g) => (\n          <button\n            key={g}\n            className={`top5-tab ${gender === g ? 'active' : ''}`}\n            onClick={() => setGender(g)}\n          >\n            {g === 'men' ? 'Men' : 'Women'}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"top5-grid\">\n        {top5Blocks.map(({ format, teams, updatedAt }) => (\n          <div key={format} className=\"top5-card\">\n            <div className=\"top5-card-header\">\n              <span className=\"top5-format\">{format}</span>\n            </div>\n\n            {teams.length > 0 ? (\n              <div className=\"top5-list\">\n                {teams.map((team) => (\n                  <div key={team.id} className=\"top5-team-row\">\n                    <div className=\"top5-rank\">{team.position}</div>\n                    <div className=\"top5-team-info\">\n                      <img src={team.img} alt={team.name} className=\"top5-flag\" />\n                      <span className=\"top5-team-name\">{team.name}</span>\n                      <span className=\"top5-team-code\">({team.code})</span>\n                    </div>\n                    <div className=\"top5-rating\">{team.rating}</div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"top5-no-data\">No ranking data available</div>\n            )}\n\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}