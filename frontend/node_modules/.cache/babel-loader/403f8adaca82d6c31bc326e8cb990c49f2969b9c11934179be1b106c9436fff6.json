{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate,useLocation}from'react-router-dom';import{Link}from'react-router-dom';import axios from'axios';import'./../css/Players.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TeamPlayers(_ref){let{teamName,teamPlayers}=_ref;const[filteredPlayers,setFilteredPlayers]=useState([]);const[currentPage,setCurrentPage]=useState(0);const[search,setSearch]=useState('');const[selectedBatStyle,setSelectedBatStyle]=useState('');const[selectedPosition,setSelectedPosition]=useState('');const[sort,setSort]=useState('');const PAGE_SIZE=30;const handleResetFilters=()=>{setSearch('');setSelectedBatStyle('');setSelectedPosition('');setSort('');};useEffect(()=>{const term=search.toLowerCase();const filtered=teamPlayers.filter(p=>{var _p$position;const fullName=\"\".concat(p.firstname,\" \").concat(p.lastname).toLowerCase();const batMatch=selectedBatStyle?p.battingstyle===selectedBatStyle:true;const posMatch=selectedPosition?((_p$position=p.position)===null||_p$position===void 0?void 0:_p$position.name)===selectedPosition:true;return fullName.includes(term)&&batMatch&&posMatch;});let sorted=[...filtered];if(sort==='name_asc'){sorted.sort((a,b)=>a.fullname.localeCompare(b.fullname));}else if(sort==='name_desc'){sorted.sort((a,b)=>b.fullname.localeCompare(a.fullname));}setFilteredPlayers(sorted);setCurrentPage(0);// reset to first page on filter change\n},[search,selectedBatStyle,selectedPosition,sort,teamPlayers]);const currentPlayers=filteredPlayers.slice(currentPage*PAGE_SIZE,(currentPage+1)*PAGE_SIZE);const totalPages=Math.ceil(filteredPlayers.length/PAGE_SIZE);return/*#__PURE__*/_jsxs(\"div\",{className:\"players-list-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by name\",value:search,onChange:e=>setSearch(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{value:selectedBatStyle,onChange:e=>setSelectedBatStyle(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Batting Style\"}),[...new Set(teamPlayers.map(p=>p.battingstyle).filter(Boolean))].sort().map(style=>/*#__PURE__*/_jsx(\"option\",{children:style},style))]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedPosition,onChange:e=>setSelectedPosition(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Position\"}),[...new Set(teamPlayers.map(p=>{var _p$position2;return(_p$position2=p.position)===null||_p$position2===void 0?void 0:_p$position2.name;}).filter(Boolean))].sort().map(pos=>/*#__PURE__*/_jsx(\"option\",{children:pos},pos))]}),/*#__PURE__*/_jsxs(\"select\",{value:sort,onChange:e=>setSort(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Sort\"}),/*#__PURE__*/_jsx(\"option\",{value:\"name_asc\",children:\"Name A-Z\"}),/*#__PURE__*/_jsx(\"option\",{value:\"name_desc\",children:\"Name Z-A\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"reset-filters\",onClick:handleResetFilters,children:\"Reset Filters\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"players-grid\",children:currentPlayers.map(player=>{var _player$position;return/*#__PURE__*/_jsxs(Link,{to:\"/player/\".concat(player.id),className:\"player-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:player.image_path,alt:player.fullname}),/*#__PURE__*/_jsx(\"h4\",{children:player.fullname}),/*#__PURE__*/_jsx(\"p\",{children:(_player$position=player.position)===null||_player$position===void 0?void 0:_player$position.name})]},player.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:currentPage===0,onClick:()=>setCurrentPage(p=>p-1),children:\"Previous\"}),/*#__PURE__*/_jsxs(\"span\",{children:[currentPage+1,\" / \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{disabled:currentPage>=totalPages-1,onClick:()=>setCurrentPage(p=>p+1),children:\"Next\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","useLocation","Link","axios","jsx","_jsx","jsxs","_jsxs","TeamPlayers","_ref","teamName","teamPlayers","filteredPlayers","setFilteredPlayers","currentPage","setCurrentPage","search","setSearch","selectedBatStyle","setSelectedBatStyle","selectedPosition","setSelectedPosition","sort","setSort","PAGE_SIZE","handleResetFilters","term","toLowerCase","filtered","filter","p","_p$position","fullName","concat","firstname","lastname","batMatch","battingstyle","posMatch","position","name","includes","sorted","a","b","fullname","localeCompare","currentPlayers","slice","totalPages","Math","ceil","length","className","children","type","placeholder","value","onChange","e","target","Set","map","Boolean","style","_p$position2","pos","onClick","player","_player$position","to","id","src","image_path","alt","disabled"],"sources":["/Users/ashwin.r1/Downloads/live-cricket-scores-main/frontend/src/components/teams/TeamPlayers.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport './../css/Players.css';\n\nexport default function TeamPlayers({ teamName, teamPlayers }) {\n  const [filteredPlayers, setFilteredPlayers] = useState([]);\n  const [currentPage, setCurrentPage] = useState(0);\n  const [search, setSearch] = useState('');\n  const [selectedBatStyle, setSelectedBatStyle] = useState('');\n  const [selectedPosition, setSelectedPosition] = useState('');\n  const [sort, setSort] = useState('');\n\n  const PAGE_SIZE = 30;\n\n  const handleResetFilters = () => {\n    setSearch('');\n    setSelectedBatStyle('');\n    setSelectedPosition('');\n    setSort('');\n  };\n\n  useEffect(() => {\n    const term = search.toLowerCase();\n    const filtered = teamPlayers.filter(p => {\n      const fullName = `${p.firstname} ${p.lastname}`.toLowerCase();\n      const batMatch = selectedBatStyle ? p.battingstyle === selectedBatStyle : true;\n      const posMatch = selectedPosition ? p.position?.name === selectedPosition : true;\n      return fullName.includes(term) && batMatch && posMatch;\n    });\n    let sorted = [...filtered];\n    if (sort === 'name_asc') {\n      sorted.sort((a, b) => a.fullname.localeCompare(b.fullname));\n    } else if (sort === 'name_desc') {\n      sorted.sort((a, b) => b.fullname.localeCompare(a.fullname));\n    }\n    setFilteredPlayers(sorted);\n    setCurrentPage(0); // reset to first page on filter change\n  }, [search, selectedBatStyle, selectedPosition, sort, teamPlayers]);\n\n  const currentPlayers = filteredPlayers.slice(currentPage * PAGE_SIZE, (currentPage + 1) * PAGE_SIZE);\n  const totalPages = Math.ceil(filteredPlayers.length / PAGE_SIZE);\n\n  return (\n    <div className=\"players-list-container\">\n      <div className=\"filters\">\n        <input\n          type=\"text\"\n          placeholder=\"Search by name\"\n          value={search}\n          onChange={(e) => setSearch(e.target.value)}\n        />\n\n        <select value={selectedBatStyle} onChange={(e) => setSelectedBatStyle(e.target.value)}>\n          <option value=\"\">Batting Style</option>\n          {[...new Set(teamPlayers.map(p => p.battingstyle).filter(Boolean))].sort().map(style => (\n            <option key={style}>{style}</option>\n          ))}\n        </select>\n\n        <select value={selectedPosition} onChange={(e) => setSelectedPosition(e.target.value)}>\n          <option value=\"\">Position</option>\n          {[...new Set(teamPlayers.map(p => p.position?.name).filter(Boolean))].sort().map(pos => (\n            <option key={pos}>{pos}</option>\n          ))}\n        </select>\n\n        <select value={sort} onChange={(e) => setSort(e.target.value)}>\n          <option value=\"\">Sort</option>\n          <option value=\"name_asc\">Name A-Z</option>\n          <option value=\"name_desc\">Name Z-A</option>\n        </select>\n\n        <button className=\"reset-filters\" onClick={handleResetFilters}>Reset Filters</button>\n      </div>\n\n      <div className=\"players-grid\">\n        {currentPlayers.map(player => (\n          <Link to={`/player/${player.id}`} className=\"player-card\" key={player.id}>\n            <img src={player.image_path} alt={player.fullname} />\n            <h4>{player.fullname}</h4>\n            <p>{player.position?.name}</p>\n          </Link>\n        ))}\n      </div>\n\n      <div className=\"pagination\">\n        <button disabled={currentPage === 0} onClick={() => setCurrentPage(p => p - 1)}>Previous</button>\n        <span>{currentPage + 1} / {totalPages}</span>\n        <button disabled={currentPage >= totalPages - 1} onClick={() => setCurrentPage(p => p + 1)}>Next</button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CACtE,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9B,cAAe,SAAS,CAAAC,WAAWA,CAAAC,IAAA,CAA4B,IAA3B,CAAEC,QAAQ,CAAEC,WAAY,CAAC,CAAAF,IAAA,CAC3D,KAAM,CAACG,eAAe,CAAEC,kBAAkB,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACgB,WAAW,CAAEC,cAAc,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACkB,MAAM,CAAEC,SAAS,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACoB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACsB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACwB,IAAI,CAAEC,OAAO,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CAEpC,KAAM,CAAA0B,SAAS,CAAG,EAAE,CAEpB,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/BR,SAAS,CAAC,EAAE,CAAC,CACbE,mBAAmB,CAAC,EAAE,CAAC,CACvBE,mBAAmB,CAAC,EAAE,CAAC,CACvBE,OAAO,CAAC,EAAE,CAAC,CACb,CAAC,CAED1B,SAAS,CAAC,IAAM,CACd,KAAM,CAAA6B,IAAI,CAAGV,MAAM,CAACW,WAAW,CAAC,CAAC,CACjC,KAAM,CAAAC,QAAQ,CAAGjB,WAAW,CAACkB,MAAM,CAACC,CAAC,EAAI,KAAAC,WAAA,CACvC,KAAM,CAAAC,QAAQ,CAAG,GAAAC,MAAA,CAAGH,CAAC,CAACI,SAAS,MAAAD,MAAA,CAAIH,CAAC,CAACK,QAAQ,EAAGR,WAAW,CAAC,CAAC,CAC7D,KAAM,CAAAS,QAAQ,CAAGlB,gBAAgB,CAAGY,CAAC,CAACO,YAAY,GAAKnB,gBAAgB,CAAG,IAAI,CAC9E,KAAM,CAAAoB,QAAQ,CAAGlB,gBAAgB,CAAG,EAAAW,WAAA,CAAAD,CAAC,CAACS,QAAQ,UAAAR,WAAA,iBAAVA,WAAA,CAAYS,IAAI,IAAKpB,gBAAgB,CAAG,IAAI,CAChF,MAAO,CAAAY,QAAQ,CAACS,QAAQ,CAACf,IAAI,CAAC,EAAIU,QAAQ,EAAIE,QAAQ,CACxD,CAAC,CAAC,CACF,GAAI,CAAAI,MAAM,CAAG,CAAC,GAAGd,QAAQ,CAAC,CAC1B,GAAIN,IAAI,GAAK,UAAU,CAAE,CACvBoB,MAAM,CAACpB,IAAI,CAAC,CAACqB,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAACE,QAAQ,CAACC,aAAa,CAACF,CAAC,CAACC,QAAQ,CAAC,CAAC,CAC7D,CAAC,IAAM,IAAIvB,IAAI,GAAK,WAAW,CAAE,CAC/BoB,MAAM,CAACpB,IAAI,CAAC,CAACqB,CAAC,CAAEC,CAAC,GAAKA,CAAC,CAACC,QAAQ,CAACC,aAAa,CAACH,CAAC,CAACE,QAAQ,CAAC,CAAC,CAC7D,CACAhC,kBAAkB,CAAC6B,MAAM,CAAC,CAC1B3B,cAAc,CAAC,CAAC,CAAC,CAAE;AACrB,CAAC,CAAE,CAACC,MAAM,CAAEE,gBAAgB,CAAEE,gBAAgB,CAAEE,IAAI,CAAEX,WAAW,CAAC,CAAC,CAEnE,KAAM,CAAAoC,cAAc,CAAGnC,eAAe,CAACoC,KAAK,CAAClC,WAAW,CAAGU,SAAS,CAAE,CAACV,WAAW,CAAG,CAAC,EAAIU,SAAS,CAAC,CACpG,KAAM,CAAAyB,UAAU,CAAGC,IAAI,CAACC,IAAI,CAACvC,eAAe,CAACwC,MAAM,CAAG5B,SAAS,CAAC,CAEhE,mBACEjB,KAAA,QAAK8C,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrC/C,KAAA,QAAK8C,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBjD,IAAA,UACEkD,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,gBAAgB,CAC5BC,KAAK,CAAEzC,MAAO,CACd0C,QAAQ,CAAGC,CAAC,EAAK1C,SAAS,CAAC0C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC5C,CAAC,cAEFlD,KAAA,WAAQkD,KAAK,CAAEvC,gBAAiB,CAACwC,QAAQ,CAAGC,CAAC,EAAKxC,mBAAmB,CAACwC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAH,QAAA,eACpFjD,IAAA,WAAQoD,KAAK,CAAC,EAAE,CAAAH,QAAA,CAAC,eAAa,CAAQ,CAAC,CACtC,CAAC,GAAG,GAAI,CAAAO,GAAG,CAAClD,WAAW,CAACmD,GAAG,CAAChC,CAAC,EAAIA,CAAC,CAACO,YAAY,CAAC,CAACR,MAAM,CAACkC,OAAO,CAAC,CAAC,CAAC,CAACzC,IAAI,CAAC,CAAC,CAACwC,GAAG,CAACE,KAAK,eAClF3D,IAAA,WAAAiD,QAAA,CAAqBU,KAAK,EAAbA,KAAsB,CACpC,CAAC,EACI,CAAC,cAETzD,KAAA,WAAQkD,KAAK,CAAErC,gBAAiB,CAACsC,QAAQ,CAAGC,CAAC,EAAKtC,mBAAmB,CAACsC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAH,QAAA,eACpFjD,IAAA,WAAQoD,KAAK,CAAC,EAAE,CAAAH,QAAA,CAAC,UAAQ,CAAQ,CAAC,CACjC,CAAC,GAAG,GAAI,CAAAO,GAAG,CAAClD,WAAW,CAACmD,GAAG,CAAChC,CAAC,OAAAmC,YAAA,QAAAA,YAAA,CAAInC,CAAC,CAACS,QAAQ,UAAA0B,YAAA,iBAAVA,YAAA,CAAYzB,IAAI,GAAC,CAACX,MAAM,CAACkC,OAAO,CAAC,CAAC,CAAC,CAACzC,IAAI,CAAC,CAAC,CAACwC,GAAG,CAACI,GAAG,eAClF7D,IAAA,WAAAiD,QAAA,CAAmBY,GAAG,EAATA,GAAkB,CAChC,CAAC,EACI,CAAC,cAET3D,KAAA,WAAQkD,KAAK,CAAEnC,IAAK,CAACoC,QAAQ,CAAGC,CAAC,EAAKpC,OAAO,CAACoC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAH,QAAA,eAC5DjD,IAAA,WAAQoD,KAAK,CAAC,EAAE,CAAAH,QAAA,CAAC,MAAI,CAAQ,CAAC,cAC9BjD,IAAA,WAAQoD,KAAK,CAAC,UAAU,CAAAH,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC1CjD,IAAA,WAAQoD,KAAK,CAAC,WAAW,CAAAH,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACrC,CAAC,cAETjD,IAAA,WAAQgD,SAAS,CAAC,eAAe,CAACc,OAAO,CAAE1C,kBAAmB,CAAA6B,QAAA,CAAC,eAAa,CAAQ,CAAC,EAClF,CAAC,cAENjD,IAAA,QAAKgD,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1BP,cAAc,CAACe,GAAG,CAACM,MAAM,OAAAC,gBAAA,oBACxB9D,KAAA,CAACL,IAAI,EAACoE,EAAE,YAAArC,MAAA,CAAamC,MAAM,CAACG,EAAE,CAAG,CAAClB,SAAS,CAAC,aAAa,CAAAC,QAAA,eACvDjD,IAAA,QAAKmE,GAAG,CAAEJ,MAAM,CAACK,UAAW,CAACC,GAAG,CAAEN,MAAM,CAACvB,QAAS,CAAE,CAAC,cACrDxC,IAAA,OAAAiD,QAAA,CAAKc,MAAM,CAACvB,QAAQ,CAAK,CAAC,cAC1BxC,IAAA,MAAAiD,QAAA,EAAAe,gBAAA,CAAID,MAAM,CAAC7B,QAAQ,UAAA8B,gBAAA,iBAAfA,gBAAA,CAAiB7B,IAAI,CAAI,CAAC,GAH+B4B,MAAM,CAACG,EAIhE,CAAC,EACR,CAAC,CACC,CAAC,cAENhE,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjD,IAAA,WAAQsE,QAAQ,CAAE7D,WAAW,GAAK,CAAE,CAACqD,OAAO,CAAEA,CAAA,GAAMpD,cAAc,CAACe,CAAC,EAAIA,CAAC,CAAG,CAAC,CAAE,CAAAwB,QAAA,CAAC,UAAQ,CAAQ,CAAC,cACjG/C,KAAA,SAAA+C,QAAA,EAAOxC,WAAW,CAAG,CAAC,CAAC,KAAG,CAACmC,UAAU,EAAO,CAAC,cAC7C5C,IAAA,WAAQsE,QAAQ,CAAE7D,WAAW,EAAImC,UAAU,CAAG,CAAE,CAACkB,OAAO,CAAEA,CAAA,GAAMpD,cAAc,CAACe,CAAC,EAAIA,CAAC,CAAG,CAAC,CAAE,CAAAwB,QAAA,CAAC,MAAI,CAAQ,CAAC,EACtG,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}