{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{getPlayerName,renderPlayerNameLink}from'./../../utils/playerUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function LineupTab(_ref){var _data$localteam,_data$localteam2,_data$localteam3,_data$visitorteam,_data$visitorteam2,_data$visitorteam3;let{matchId,matchInfo}=_ref;const[localTeam,setLocalTeam]=useState({});const[visitorTeam,setVisitorTeam]=useState({});const[localLineup,setLocalLineup]=useState([]);const[visitorLineup,setVisitorLineup]=useState([]);const data=matchInfo||{};const lineup=data.lineup||[];const local={id:data.localteam_id,name:(_data$localteam=data.localteam)===null||_data$localteam===void 0?void 0:_data$localteam.name,code:(_data$localteam2=data.localteam)===null||_data$localteam2===void 0?void 0:_data$localteam2.code,image:(_data$localteam3=data.localteam)===null||_data$localteam3===void 0?void 0:_data$localteam3.image_path};const visitor={id:data.visitorteam_id,name:(_data$visitorteam=data.visitorteam)===null||_data$visitorteam===void 0?void 0:_data$visitorteam.name,code:(_data$visitorteam2=data.visitorteam)===null||_data$visitorteam2===void 0?void 0:_data$visitorteam2.code,image:(_data$visitorteam3=data.visitorteam)===null||_data$visitorteam3===void 0?void 0:_data$visitorteam3.image_path};const localPlayers=lineup.slice(0,11);const visitorPlayers=lineup.slice(11,22);useEffect(()=>{var _matchInfo$lineup;const cacheKey=\"squad_\".concat(matchId);const cached=localStorage.getItem(cacheKey);if(!(matchInfo!==null&&matchInfo!==void 0&&(_matchInfo$lineup=matchInfo.lineup)!==null&&_matchInfo$lineup!==void 0&&_matchInfo$lineup.length)&&cached){const parsed=JSON.parse(cached);setLocalTeam(parsed.local);setVisitorTeam(parsed.visitor);setLocalLineup(parsed.localLineup);setVisitorLineup(parsed.visitorLineup);return;}const result={local,visitor,localLineup:localPlayers,visitorLineup:visitorPlayers};localStorage.setItem(cacheKey,JSON.stringify(result));setLocalTeam(local);setVisitorTeam(visitor);setLocalLineup(localPlayers);setVisitorLineup(visitorPlayers);},[matchInfo]);if(!matchInfo)return/*#__PURE__*/_jsx(\"div\",{children:\"No lineup available at the moment.\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Line-ups\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:localTeam.name}),localLineup.map(player=>{var _player$position;return/*#__PURE__*/_jsxs(\"div\",{children:[renderPlayerNameLink(player.id,lineup),\" (\",(_player$position=player.position)===null||_player$position===void 0?void 0:_player$position.name,\")\"]},player.id);})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{children:visitorTeam.name}),visitorLineup.map(player=>{var _player$position2;return/*#__PURE__*/_jsxs(\"div\",{children:[renderPlayerNameLink(player.id,lineup),\" (\",(_player$position2=player.position)===null||_player$position2===void 0?void 0:_player$position2.name,\")\"]},player.id);})]})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","getPlayerName","renderPlayerNameLink","jsx","_jsx","jsxs","_jsxs","LineupTab","_ref","_data$localteam","_data$localteam2","_data$localteam3","_data$visitorteam","_data$visitorteam2","_data$visitorteam3","matchId","matchInfo","localTeam","setLocalTeam","visitorTeam","setVisitorTeam","localLineup","setLocalLineup","visitorLineup","setVisitorLineup","data","lineup","local","id","localteam_id","name","localteam","code","image","image_path","visitor","visitorteam_id","visitorteam","localPlayers","slice","visitorPlayers","_matchInfo$lineup","cacheKey","concat","cached","localStorage","getItem","length","parsed","JSON","parse","result","setItem","stringify","children","map","player","_player$position","position","style","marginTop","_player$position2"],"sources":["/Users/ashwin.r1/Downloads/live-cricket-scores-main/frontend/src/components/match/LineupTab.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { getPlayerName, renderPlayerNameLink } from './../../utils/playerUtils';\n\nexport default function LineupTab({ matchId, matchInfo }) {\n  const [localTeam, setLocalTeam] = useState({});\n  const [visitorTeam, setVisitorTeam] = useState({});\n  const [localLineup, setLocalLineup] = useState([]);\n  const [visitorLineup, setVisitorLineup] = useState([]);\n\n  const data = matchInfo || {};\n  const lineup = data.lineup || [];\n\n  const local = {\n    id: data.localteam_id,\n    name: data.localteam?.name,\n    code: data.localteam?.code,\n    image: data.localteam?.image_path\n  };\n\n  const visitor = {\n    id: data.visitorteam_id,\n    name: data.visitorteam?.name,\n    code: data.visitorteam?.code,\n    image: data.visitorteam?.image_path,\n  };\n\n  const localPlayers = lineup.slice(0, 11);\n  const visitorPlayers = lineup.slice(11, 22);\n\nuseEffect(() => {\n  const cacheKey = `squad_${matchId}`;\n  const cached = localStorage.getItem(cacheKey);\n  if (!matchInfo?.lineup?.length && cached) {\n    const parsed = JSON.parse(cached);\n    setLocalTeam(parsed.local);\n    setVisitorTeam(parsed.visitor);\n    setLocalLineup(parsed.localLineup);\n    setVisitorLineup(parsed.visitorLineup);\n    return;\n  }\n\n  const result = { local, visitor, localLineup: localPlayers, visitorLineup: visitorPlayers };\n  localStorage.setItem(cacheKey, JSON.stringify(result));\n\n  setLocalTeam(local);\n  setVisitorTeam(visitor);\n  setLocalLineup(localPlayers);\n  setVisitorLineup(visitorPlayers);\n}, [matchInfo]);\n\n  if (!matchInfo) return <div>No lineup available at the moment.</div>;\n\n  return (\n    <div>\n      <h3>Line-ups</h3>\n\n      <div>\n        <h4>{localTeam.name}</h4>\n        {localLineup.map((player) => (\n          <div key={player.id}>\n            {renderPlayerNameLink(player.id, lineup)} ({player.position?.name})\n          </div>\n        ))}\n      </div>\n\n      <div style={{ marginTop: '20px' }}>\n        <h4>{visitorTeam.name}</h4>\n        {visitorLineup.map((player) => (\n          <div key={player.id}>\n            {renderPlayerNameLink(player.id, lineup)} ({player.position?.name})\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}